<%- include('partials/header', { title: 'Create Wallet' }) %>

<div class="card" style="max-width: 600px; margin: 0 auto;">
    <h2 style="text-align: center; margin-bottom: 2rem;">Create New Bitcoin Wallet</h2>
    
    <% if (typeof privateKey !== 'undefined' && privateKey) { %>
        <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 1rem; border-radius: 5px; margin-bottom: 2rem;">
            <h3 style="color: #856404; margin-bottom: 1rem;">⚠️ Important: Save Your Private Key</h3>
            <p style="color: #856404; margin-bottom: 1rem;">This is the only time you'll see your private key. Save it securely!</p>
            
            <div style="margin-bottom: 1rem;">
                <strong>Your Private Key (WIF):</strong>
                <code style="display: block; background-color: #f5f5f5; padding: 1rem; border-radius: 5px; margin-top: 0.5rem; word-break: break-all; font-family: monospace;">
                    <%= privateKeyWIF %>
                </code>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <strong>Your Private Key (Hex):</strong>
                <code style="display: block; background-color: #f5f5f5; padding: 1rem; border-radius: 5px; margin-top: 0.5rem; word-break: break-all; font-family: monospace; font-size: 0.875rem;">
                    <%= privateKeyHex %>
                </code>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <strong>Your Bitcoin Address:</strong>
                <code style="display: block; background-color: #f5f5f5; padding: 1rem; border-radius: 5px; margin-top: 0.5rem; word-break: break-all;">
                    <%= address %>
                </code>
            </div>
            
            <form action="/login" method="POST" style="margin-top: 2rem;">
                <input type="hidden" name="privateKey" value="<%= privateKeyWIF %>">
                <button type="submit" class="btn" style="width: 100%;">Login with This Wallet</button>
            </form>
        </div>
    <% } else { %>
        <p style="text-align: center; margin-bottom: 2rem;">
            Generate a new Bitcoin wallet with a secure private key
        </p>
        
        <form action="/create-wallet" method="POST">
            <button type="submit" class="btn" style="width: 100%; font-size: 1.125rem; padding: 1rem;">
                Generate New Wallet
            </button>
        </form>
        
        <div style="margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #ddd;">
            <p style="text-align: center;">
                Already have a wallet? <a href="/login">Login here</a>
            </p>
        </div>
    <% } %>
</div>

<div class="card" style="max-width: 600px; margin: 2rem auto;">
    <h3>What happens when you create a wallet?</h3>
    <ul style="color: #666; font-size: 0.875rem;">
        <li>A cryptographically secure private key is generated</li>
        <li>Your Bitcoin address is derived from this private key</li>
        <li>You can use the private key to access your wallet anytime</li>
        <li>The private key is shown only once - save it securely!</li>
    </ul>
</div>

<%- include('partials/footer') %>